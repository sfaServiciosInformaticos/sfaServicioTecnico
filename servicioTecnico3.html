<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Servicio T√©cnico</title>
    <style>
        /* Tus estilos CSS originales aqu√≠ */
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            color: #333;
            margin: 0;
            padding: 0;
        }
        /* ... (mant√©n todos tus estilos originales) ... */
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <!-- Tus elementos HTML originales aqu√≠ -->
    <div class="notification success" id="successNotification"></div>
    <div class="notification error" id="errorNotification"></div>

    <div class="container">
        <h1>Servicio T√©cnico</h1>
        <div class="button-container">
            <button class="square-button" id="btnOrdenTrabajo">üìù Orden de Trabajo</button>
            <button class="square-button" id="btnListaOrdenes">üìã Lista de Orden</button>
            <button class="square-button" id="btnActualizarOrden">‚úèÔ∏è Actualizar</button>
            <button class="square-button" id="btnEliminarOrden">‚ùå Eliminar</button>
            <button class="square-button" id="btnBuscarOrden">üîç Buscar Orden</button>
        </div>

        <!-- Formularios originales aqu√≠ -->
        <!-- ... (mant√©n tus formularios originales) ... -->
        
        <div class="client-link">
            <a href="buscar-orden-cliente.html">üîç Consultar estado de mi orden (√Årea de clientes)</a>
        </div>
    </div>

    <script>
        // Configuraci√≥n de GitHub
        const GITHUB_USER = 'sfaserviciosinformaticos';
        const REPO = 'sfaServicioTecnico';
        const ORDERS_FILE = 'ordenes.json';
        const GITHUB_TOKEN = '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';
        
        // Variable para almacenar las √≥rdenes en memoria
        let ordenesEnMemoria = [];
        
        // Asignar eventos a los botones
        document.addEventListener('DOMContentLoaded', function() {
            // Botones principales
            document.getElementById('btnOrdenTrabajo').addEventListener('click', () => mostrarFormulario('ordenTrabajo'));
            document.getElementById('btnListaOrdenes').addEventListener('click', () => mostrarFormulario('listaOrdenes'));
            document.getElementById('btnActualizarOrden').addEventListener('click', () => mostrarFormulario('actualizarOrden'));
            document.getElementById('btnEliminarOrden').addEventListener('click', () => mostrarFormulario('eliminarOrden'));
            document.getElementById('btnBuscarOrden').addEventListener('click', () => mostrarFormulario('buscarOrden'));
            
            // Botones de formularios
            document.getElementById('ordenTrabajoForm').querySelector('button').addEventListener('click', agregarOrdenTrabajo);
            document.getElementById('actualizarOrdenForm').querySelector('button').addEventListener('click', actualizarOrden);
            document.getElementById('eliminarOrdenForm').querySelector('button').addEventListener('click', eliminarOrden);
            document.getElementById('buscarOrdenForm').querySelector('button').addEventListener('click', buscarOrden);
            
            // Inicializaci√≥n
            inicializarArchivoOrdenes();
            document.getElementById('fechaRecepcion').valueAsDate = new Date();
        });

        // Funci√≥n para mostrar notificaciones
        function mostrarNotificacion(mensaje, esExito = true) {
            const notificacion = esExito ? 
                document.getElementById('successNotification') : 
                document.getElementById('errorNotification');
            
            notificacion.textContent = mensaje;
            notificacion.style.display = 'block';
            
            setTimeout(() => {
                notificacion.style.display = 'none';
            }, 5000);
        }

        // Funci√≥n para mostrar u ocultar formularios
        function mostrarFormulario(formulario) {
            console.log(`Mostrando formulario: ${formulario}`);
            
            document.querySelectorAll('.form-container').forEach(form => {
                form.style.display = 'none';
            });
            
            const formToShow = document.getElementById(`${formulario}Form`);
            if (formToShow) {
                formToShow.style.display = 'block';
                
                // Si es la lista de √≥rdenes, actualizarla
                if (formulario === 'listaOrdenes') {
                    cargarOrdenes();
                }
                
                // Limpiar campos al mostrar formularios
                if (formulario === 'ordenTrabajo') {
                    limpiarFormularioOrden();
                }
            }
        }

        // Funci√≥n para limpiar el formulario de orden
        function limpiarFormularioOrden() {
            document.getElementById('nombreCliente').value = '';
            document.getElementById('telefonoCliente').value = '';
            document.getElementById('modeloTelefono').value = '';
            document.getElementById('imeiTelefono').value = '';
            document.getElementById('descripcionProblema').value = '';
            document.getElementById('fechaRecepcion').valueAsDate = new Date();
            document.getElementById('costoEstimado').value = '';
        }

        // Resto de tus funciones (githubApiRequest, cargarOrdenesDesdeGitHub, guardarOrdenesEnGitHub, etc.)
        // ... (mant√©n todas tus funciones originales pero aseg√∫rate de que no haya errores de sintaxis)
        
        // Ejemplo de una funci√≥n corregida:
        async function agregarOrdenTrabajo() {
            console.log("Intentando agregar orden...");
            
            // Validar campos requeridos
            const camposRequeridos = [
                'nombreCliente', 'telefonoCliente', 'modeloTelefono',
                'descripcionProblema', 'fechaRecepcion', 'costoEstimado'
            ];
            
            for (const campoId of camposRequeridos) {
                const campo = document.getElementById(campoId);
                if (!campo.value.trim()) {
                    mostrarNotificacion(`Por favor complete el campo: ${campo.placeholder}`, false);
                    campo.focus();
                    return;
                }
            }

            try {
                const nombreCliente = document.getElementById('nombreCliente').value.trim();
                const telefonoCliente = document.getElementById('telefonoCliente').value.trim();
                const modeloTelefono = document.getElementById('modeloTelefono').value.trim();
                const imeiTelefono = document.getElementById('imeiTelefono').value.trim();
                const descripcionProblema = document.getElementById('descripcionProblema').value.trim();
                const fechaRecepcion = document.getElementById('fechaRecepcion').value;
                const costoEstimado = parseFloat(document.getElementById('costoEstimado').value);

                if (isNaN(costoEstimado) || costoEstimado <= 0) {
                    mostrarNotificacion("Por favor ingrese un costo estimado v√°lido", false);
                    return;
                }

                const numeroSeguimiento = `ORD${Math.floor(1000 + Math.random() * 9000)}`;
                
                const nuevaOrden = {
                    nombreCliente,
                    telefonoCliente,
                    modeloTelefono,
                    imeiTelefono: imeiTelefono || "No especificado",
                    descripcionProblema,
                    fechaRecepcion,
                    costoEstimado,
                    numeroSeguimiento,
                    estado: "En Reparaci√≥n",
                    fechaCreacion: new Date().toISOString()
                };

                ordenesEnMemoria = await cargarOrdenesDesdeGitHub();
                ordenesEnMemoria.push(nuevaOrden);
                
                const guardado = await guardarOrdenesEnGitHub(ordenesEnMemoria);
                
                if (guardado) {
                    mostrarNotificacion(`‚úÖ Orden creada exitosamente. N¬∞: ${numeroSeguimiento}`);
                    limpiarFormularioOrden();
                    
                    if (document.getElementById('listaOrdenesForm').style.display === 'block') {
                        await cargarOrdenes();
                    }
                } else {
                    mostrarNotificacion("No se pudo guardar la orden", false);
                }
            } catch (error) {
                console.error("Error al agregar orden:", error);
                mostrarNotificacion(`‚ùå Error al crear la orden: ${error.message}`, false);
            }
        }

        // ... (mant√©n el resto de tus funciones originales)

    </script>
    <footer align="center">Dise√±ado por: Sebasti√°n G√≥mez - Contacto: +543751316169</footer>
</body>
</html>